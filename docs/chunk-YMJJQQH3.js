import{a as z}from"./chunk-BKMD3ZVN.js";import{a as f}from"./chunk-M2KNEM5Y.js";import{d as W,m as j,n as B,o as L,s as q}from"./chunk-L5ZD75W7.js";import{$a as p,Eb as N,Ga as a,Gb as R,S as s,Wa as g,Xa as b,Ya as w,Za as T,_a as E,a as x,ab as n,b as y,bb as r,cb as u,ea as I,ib as P,jb as O,pb as c,qb as m,rb as M,ta as k,ub as F,va as l,vb as D,wb as A}from"./chunk-WXET5CKO.js";var $=t=>["/products",t];function G(t,e){t&1&&(n(0,"span",2),c(1,"In Stock"),r())}function H(t,e){t&1&&(n(0,"span",3),c(1,"Out of stock"),r())}function J(t,e){if(t&1&&u(0,"img",5),t&2){let i,o,d=O();p("src",(i=d.product())==null?null:i.thumbnail,k)("alt",(o=d.product())==null?null:o.title)}}function K(t,e){t&1&&(n(0,"h2"),c(1,"No Image Provided"),r())}var _=class t{productService=s(f);router=s(B);product=R();wishlistSignalStore=s(z);isInWishlist=N(()=>this.wishlistSignalStore.wishlistItems().some(e=>e.id===this.product().id));addTocCart(e){let i=y(x({},e),{quantity:1});this.productService.addToCart(i)}toggleSwitch(){this.wishlistSignalStore.toggleItem(this.product())}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=a({type:t,selectors:[["app-product"]],inputs:{product:[1,"product"]},decls:26,vars:11,consts:[[1,"col"],[1,"card","rounded","rounded-5","position-relative"],[1,"stock"],[1,"out-stock"],[3,"routerLink"],[1,"rounded-top-5","bg-light","card-img-top",3,"src","alt"],[1,"card-body"],[1,"info","d-flex","justify-content-between"],[1,"card-title","fs-5","fw-bold"],[1,"fw-bold","fs-5","text-success"],[1,"card-text","mt-2","fw-bold","mb-0"],[1,"rates"],[1,"bi","bi-star-fill"],[1,"btn","btn-success","rounded-5","py-2","px-4","mt-4",3,"click"],[1,"btn","btn-secondary","rounded-5","py-2","px-4","ms-5","mt-4",3,"click"]],template:function(i,o){if(i&1&&(n(0,"div",0)(1,"div",1),g(2,G,2,0,"span",2)(3,H,2,0,"span",3),n(4,"a",4),g(5,J,1,2,"img",5)(6,K,2,0,"h2"),r(),n(7,"div",6)(8,"div",7)(9,"h5",8),c(10),r(),n(11,"span",9),c(12),D(13,"currency"),r()(),n(14,"p",10),c(15),r(),n(16,"div",11),u(17,"i",12)(18,"i",12)(19,"i",12)(20,"i",12)(21,"i",12),r(),n(22,"button",13),P("click",function(){return o.addTocCart(o.product())}),c(23,"Add To Cart"),r(),n(24,"button",14),P("click",function(){return o.toggleSwitch()}),c(25),r()()()()),i&2){let d,v,h,S,C;l(2),b(o.product().stock>0?2:3),l(2),p("routerLink",F(9,$,(d=o.product())==null?null:d.id)),l(),b((v=o.product())!=null&&v.thumbnail?5:6),l(5),m((h=o.product())==null?null:h.title),l(2),m(A(13,7,(S=o.product())==null?null:S.price)),l(3),m((C=o.product())==null?null:C.description),l(10),M(" ",o.isInWishlist()?"\u2764\uFE0F Remove":"\u2661 Add")}},dependencies:[q,L,W],styles:["i[_ngcontent-%COMP%]{color:#0aa80f;cursor:pointer}.stock[_ngcontent-%COMP%]{position:absolute;background-color:#319c28;padding:.1rem 1.5rem;border-radius:20px;color:#fff;left:5%;top:1%}.out-stock[_ngcontent-%COMP%]{position:absolute;background-color:#bc3031;padding:.1rem 1.5rem;border-radius:20px;color:#fff;left:5%;top:1%}img[_ngcontent-%COMP%]{cursor:pointer}"]})};function X(t,e){if(t&1&&u(0,"app-product",4),t&2){let i=e.$implicit;p("product",i)}}var Q=class t{productService=s(f);arrOfProducts=I([]);fetchProducts(){this.productService.getProducts().subscribe({next:e=>{this.arrOfProducts.set(e.products)},error:e=>console.error("Falied",e)})}ngOnInit(){this.fetchProducts()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=a({type:t,selectors:[["app-products"]],decls:8,vars:0,consts:[[1,"product"],[1,"container"],[1,"fs-5"],[1,"row","row-cols-1","row-cols-md-3","row-cols-lg-3","g-4","mt-5"],[3,"product"]],template:function(i,o){i&1&&(n(0,"section",0)(1,"div",1)(2,"h2",2),c(3,"Welcome to our shopping websites, start Browsing..."),r(),n(4,"div",3),T(5,X,1,1,"app-product",4,w),r()()(),u(7,"router-outlet")),i&2&&(l(5),E(o.arrOfProducts()))},dependencies:[_,j],encapsulation:2})};export{Q as Products};
