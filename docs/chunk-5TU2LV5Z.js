import{h as c}from"./chunk-5KCLQXD3.js";import{N as n,S as o,da as s,zb as i}from"./chunk-FMD6QGD7.js";var m=class a{products=s([]);CART_KEY="user_cart";httpClient=o(c);cartItems=s(this.getSavedCartItems());cartCount=i(()=>this.cartItems().length>0?this.cartItems().length:0);getProducts(){return this.httpClient.get("https://dummyjson.com/products")}getProductsById(t){return this.httpClient.get(`https://dummyjson.com/products/${t}`)}addToCart(t){this.cartItems.update(e=>{let r=[...e,t];return this.saveCartItems(r),r})}removeFromCart(t){this.cartItems.update(e=>{let r=e.filter(p=>p.id!==t);return this.saveCartItems(r),r})}clearCart(){this.cartItems.set([]),localStorage.removeItem(this.CART_KEY)}saveCartItems(t){localStorage.setItem(this.CART_KEY,JSON.stringify(t))}getSavedCartItems(){let t=localStorage.getItem(this.CART_KEY);return t?JSON.parse(t):[]}static \u0275fac=function(e){return new(e||a)};static \u0275prov=n({token:a,factory:a.\u0275fac,providedIn:"root"})};export{m as a};
